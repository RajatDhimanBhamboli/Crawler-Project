<script type="text/javascript" src="https://web-static.archive.org/_static/js/bundle-playback.js?v=1B2M2Y8A" charset="utf-8"></script>
<script type="text/javascript" src="https://web-static.archive.org/_static/js/wombat.js?v=1B2M2Y8A" charset="utf-8"></script>
<script>window.RufflePlayer=window.RufflePlayer||{};window.RufflePlayer.config={"autoplay":"on","unmuteOverlay":"hidden","showSwfDownload":true};</script>
<script type="text/javascript" src="https://web-static.archive.org/_static/js/ruffle/ruffle.js"></script>
<script type="text/javascript">
    __wm.init("https://web.archive.org/web");
  __wm.wombat("http://www.w3.org:80/People/Bos/style.html","20090923221609","https://web.archive.org/","web","https://web-static.archive.org/_static/",
	      "1253744169");
</script>
<link rel="stylesheet" type="text/css" href="https://web-static.archive.org/_static/css/banner-styles.css?v=1B2M2Y8A" />
<link rel="stylesheet" type="text/css" href="https://web-static.archive.org/_static/css/iconochive.css?v=1B2M2Y8A" />
<!-- End Wayback Rewrite JS Include -->
<title>Stream-based style sheets</title>

<!--+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

<hr>
<img src="https://web.archive.org/web/20090923221609im_/http://www.igd.fhg.de/www/www95/pictures/logo.gif" alt="Third International World-Wide Web Conference">

<h1>SIMPLE STYLE SHEETS<br>
FOR SGML &amp; HTML<br>
ON THE WEB</h1>

<p>World-Wide Web conference spring 1995<br>
Developer's day --- 14 April 1995<br>
Darmstadt

<address><em>
Bert Bos<br>
Dept. of Humanities Computing<br>
University of Groningen<br>
<tt>bert@let.rug.nl</tt>
</em></address>

<img src="https://web.archive.org/web/20090923221609im_/http://www.let.rug.nl/wapen.xbm">


<!--+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

<hr>
<h2>Context: Argo browser</h2>
Based on W3A (<tt>http://www.let.rug.nl/~bert/W3A</tt>)
<ul>
<li> HTML viewer applet
<li> inline images handled by different applets
<li> upgrading to new formats is cheap
</ul>


<!--+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

<hr>
<h2>The HTML applet</h2>
<ol>
<li> <strong>real-time ``live'' formatting</strong>

<p>Seems to be the trend: Netscape, HotJava, Arena

<li> <strong>implementation:</strong>

<p>FormattedText widget --<br>
SimpleSGML widget --<br>
HTML2 widget

<p>(widgets will become public in a few days)
</ol>


<!--+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

<hr>
<h2>Widget hierarchy (1)</h2>
<strong>FormattedText</strong>
<ul>
<li> list of ``chunks'' (atomic units): words, hor. spaces (fixed or
strechable), vert. spaces, parshapes, inline widgets
<li> 3 ``tracks'': main, left floats, right floats
<li> NB. nothing specific to SGML/HTML
</ul>

<strong>SimpleSGML</strong>
<ul>
<li> parser for simple SGML (``canonical form'', see Sperberg-McQueen
&amp; Goldstein)
<li> parser for stylesheets (actually Xlib/Xrm does most of the work)
<li> uses stack of styles, produces sequence of ``chunks''
</ul>


<!--+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

<hr>
<h2>Widget hierarchy (2)</h2>
<strong>HTML2</strong>
<ul>
<li> overrides some methods:
  <ul>
  <li> heuristic rules for omitted tags
  <li> more entities (WWW icon entities) [nyi]
  <li> forms (as inline objects) [nyi]
  </ul>
<li> currently accepts a mixture of HTML2 and HTML3
<li> NB. does no parsing
</ul>


<!--+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

<hr>
<h2>Assumptions (1)</h2>
<ol>
<li> <strong>Addressable units</strong>
  <ul>
  <li> whole elements only
  <li> by context or by ID
  </ul>
<li> style sheet is static (declarative)
<li> style sheet consists of rules; rules
  consist of: <em>selector + property + value</em>;
  value may be an expression
<li> attributes not in selector, but in expression
</ol>


<!--+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

<hr>
<h2>Assumptions (2)</h2>
<ol seqnum="4">
<li> text is rendered roughly in the order it is received
  (exception: tables, math)
<li> only appearrance specified, not interaction
<li> SGML, not just HTML
</ol>


<!--+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

<hr>
<h2>Stream-based SS vs DSSSL</h2>
<ul>
<li> Complementary!
<li> DSSSL needed for more complex layouts (re-arranging of text,
columns)
<li> 2 (or more) links in a document?<br>
  <tt>&lt;LINK HREF="..." REL=STYLE NOTATION="...DSSSL..."&gt;</tt><br>
  <tt>&lt;LINK HREF="..." REL=STYLE NOTATION="...W3O style..."&gt;</tt>
</ul>


<!--+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

<hr>
<h2>User preferences</h2>
<strong>Browser's default style | document's style | user's style</strong>

<p>Select 1, 2 or all 3

<p>Combined just like X resources (override, replace, merge)
<ul>
<li> <em>pro:</em>
  <ul>
  <li> flexible
  <li> already widely used
  </ul>
<li> <em>con:</em>
  <ul>
  <li> not always intuitive
  <li> maybe too flexible?
  </ul>
</ul>


<!--+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

<hr>
<h2>Style properties (1)</h2>
<em>Some selected properties</em>

<p><strong>empty</strong> (<tt>*IMG.empty: true</tt>)
<ul>
<li> needed by parser (omitted end tag)
</ul>

<p><strong>emphasis</strong> (<tt>*STRONG.emphasis: 2</tt>)
<ul>
<li> level of emphasis (at least 0, 1 2)
<li> allows browser to choose best method
<li> is this needed?
</ul>


<!--+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

<hr>
<h2>Style properties (2)</h2>
<p><strong>background</strong> (<tt>*A.textbackground: yellow</tt>)
<ul>
<li> behind text only
<li> looks funny for longer, unjustified text
<li> maybe need separate background for paragraphs?
</ul>

<p><strong>prebreak, postbreak</strong> (<tt>*P.postbreak: 0.0</tt>)
<ul>
<li> break line, then insert vert. whitespace
<li> measured in ``standard line heights''
<li> maybe add units (mm, ex, pixels)?
</ul>


<!--+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

<hr>
<h2>Style properties (3)</h2>
<p><strong>leftindent, rightindent</strong> (<tt>*BQ.leftindent: 4.0</tt>)
<ul>
<li> added to inherited margin
<li> measured in ``standard em'' (rel. to default font)
<li> measured from edge, discarding floats
</ul>

<p><strong>track</strong> (<tt>*FIG.track: !ALIGN</tt>)
<ul>
<li> 3 tracks: main, left/right float areas
<li> do we need more? (footnote, running head)
<li> NB ``title'' is not a track
</ul>


<!--+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

<hr>
<h2>Style properties (4)</h2>
<p><strong>minimized</strong> (<tt>*FOOTNOTE.minimized: true</tt>)
<ul>
<li> contents are ``folded'' or put into pop-up
<li> different from <strong>hide</strong>
</ul>

<p><strong>keepwidth</strong> (<tt>*CAPTION.keepwidth: true)</tt>
<ul>
<li> tries to determine width of float from previous line
<li> not completely satisfactory: caption cannot precede figure
</ul>


<!--+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

<hr>
<h2>Style properties (5)</h2>
<p><strong>id</strong> (<tt>*id: !ID</tt>)
<ul>
<li> assigns ID to an element
<li> usually taken from attribute
<li> allows assigning styles to individual element instances
</ul>

<p><strong>insertbefore, insertafter</strong> (<tt>*CENTER.insertbefore: &lt;DIV
ALIGN=CENTER&gt;</tt>)
<ul>
<li> insert arbitrary text
<li> can be used to define new tags
</ul>

<p><strong>math</strong>
<ul>
<li> is currently unspecified :-(
</ul>


<!--+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

<hr>
<h2>Expressions</h2>
Currently not very well developed
<dl>
<dt>IDs<dd> <tt>*@par12*EM.bold: true</tt>

  <p>an EM within an elt. with ID = ``par12''
<dt>attributes<dd> <tt>*track: !ALIGN</tt>

  <p>value taken from ALIGN attribute
<dt>conditional<dd> <tt>*flush: @ifmatch(!CLEAR, "[Ff].*", "both",
  !CLEAR)</tt>

  <p>2nd arg. is reg. exp.
</dl>
<p>More general expressions needed (in particular concatenation)


<!--+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

<hr>
<h2>External influences</h2>
<p>Cf. <em>Cascading stylesheets</em> and <em>DSSSL</em> (``length spec'')
<ul>
<li> width of window
<li> age of document
<li> number of available colours
<li> user's history
<li> ...
</ul>
<p>Currently none specified


<!--+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

<hr>
<h2>Odds &amp; ends</h2>
<strong>&amp;sbsp;</strong> (soft break space)
<ul>
<li> breakable, but invisible (cf. &amp;shy;)
<li> in Unicode, but not in ISO :-(
<li> replaces Netscape's <tt>&lt;WBR&gt;</tt>
</ul>

<p><strong>External vs in-line style sheets</strong>
<ul>
<li> <tt>&lt;LINK&gt;</tt> vs <tt>&lt;STYLE&gt;</tt>
<li> priority?
<li> in-line handy for one-time styles
</ul>

<p><strong>Other output formats</strong>
<ul>
<li> Postscript, TeX, plain text,...
</ul>


<!--+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->









<script language="Javascript">
<!--

// FILE ARCHIVED ON 20050414221023 AND RETRIEVED FROM THE
// INTERNET ARCHIVE ON 20080401181125.
// JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.
// ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
// SECTION 108(a)(3)).

   var sWayBackCGI = "https://web.archive.org/web/20090923221609/http://web.archive.org/web/20050414221023/";

   function xResolveUrl(url) {
      var image = new Image();
      image.src = url;
      return image.src;
   }
   function xLateUrl(aCollection, sProp) {
      var i = 0;
      for(i = 0; i < aCollection.length; i++) {
         if (typeof(aCollection[i][sProp]) == "string") { 
          if (aCollection[i][sProp].indexOf("mailto:") == -1 &&
             aCollection[i][sProp].indexOf("javascript:") == -1) {
            if(aCollection[i][sProp].indexOf("http") == 0) {
                aCollection[i][sProp] = sWayBackCGI + aCollection[i][sProp];
            } else {
                aCollection[i][sProp] = sWayBackCGI + xResolveUrl(aCollection[i][sProp]);
            }
         }
         }
      }
   }

   xLateUrl(document.getElementsByTagName("IMG"),"src");
   xLateUrl(document.getElementsByTagName("A"),"href");
   xLateUrl(document.getElementsByTagName("AREA"),"href");
   xLateUrl(document.getElementsByTagName("OBJECT"),"codebase");
   xLateUrl(document.getElementsByTagName("OBJECT"),"data");
   xLateUrl(document.getElementsByTagName("APPLET"),"codebase");
   xLateUrl(document.getElementsByTagName("APPLET"),"archive");
   xLateUrl(document.getElementsByTagName("EMBED"),"src");
   xLateUrl(document.getElementsByTagName("BODY"),"background");
   var forms = document.getElementsByTagName("FORM");
   if (forms) {
       var j = 0;
       for (j = 0; j < forms.length; j++) {
              f = forms[j];
              if (typeof(f.action)  == "string") {
                 if(typeof(f.method)  == "string") {
                     if(typeof(f.method) != "post") {
                        f.action = sWayBackCGI + f.action;
                     }
                  }
              }
        }
    }


//-->
</script>

<!--
     FILE ARCHIVED ON 22:16:09 Sep 23, 2009 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 09:31:57 Aug 11, 2025.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  captures_list: 9.895
  exclusion.robots: 0.059
  exclusion.robots.policy: 0.044
  esindex: 0.01
  cdx.remote: 61.009
  LoadShardBlock: 142.211 (3)
  PetaboxLoader3.datanode: 166.833 (4)
  PetaboxLoader3.resolve: 267.147 (2)
  load_resource: 391.412
-->